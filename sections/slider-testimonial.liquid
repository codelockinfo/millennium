{% if section.settings.heading != blank %}
    <div class="common-heading ">
        <div class="section-header">
            <h2 class="heading-text">{{ section.settings.heading }}</h2>
        </div>
    </div>
{% endif %}
<div class="swiper mSwiper">
    <div class="swiper-wrapper">
        {%- for block in section.blocks -%}
            <div class="swiper-slide">
                <div class="review-box">
                    <div class="reviewimage"><img src="{{ section.settings.box_image |  img_url: 'master' }}"/></div>
                    <div>{{ block.settings.content }}</div>
                    <div>{{ block.settings.customername }}</div>
                    <div>{{ block.settings.country }}</div>
                </div>
            </div>
        {%- endfor -%}
    </div>
    <div class="swiper-button-prev"><i class="fa-solid fa-chevron-left"></i></div>
    <div class="swiper-button-next"><i class="fa-solid fa-chevron-right"></i></div>
</div>

{%- schema -%}
{
    "name": "Slider Testimonial",
    "settings": [
        {
            "type": "text",
            "id": "heading",
            "label": "Heading"
        },
        {
            "type": "image_picker",
            "id": "box_image",
            "label": "image_box"
        }
    ],
    "blocks": [
    {
        "type": "text",
        "name": "text",
        "settings": [
            {
                "type": "richtext",
                "id": "content",
                "label": "Review message"
            },
            {
                "type": "text",
                "id": "customername",
                "label": "Customer name"
            },
            {
                "type": "text",
                "id": "country",
                "label": "Country name"
            }
        ]
    }
    ],
    "presets": [
    {
        "name": "Slider Testimonial"
    }
    ]
}
{% endschema %}

<style>
    .swiper-grid-column>.swiper-wrapper {
        flex-wrap: wrap;
        flex-direction: row;
    }
    .swiper-slide:nth-child(odd) {
        color: #000000 !important;
    }
    .swiper {
        width: 100%;
        height: 100%;
        margin-left: auto;
        margin-right: auto;
    }
    .swiper-slide {
        text-align: center;
        font-size: 18px;
        height: calc((100% - 30px) / 2) !important;
        display: flex;
        justify-content: center;
        align-items: center;
    }
    .reviewimage{
        text-align: left;
    }
    .review-box{
        margin: 10px;
        background: orange;
    }
</style>


<script>
    var swiper = new Swiper(".mSwiper", {
      slidesPerView: 3,
      grid: {
        rows: 2,
      },
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
    });
</script>
  