<div class="slider-gallery">
  <div class="width-container">
    <div class="common-heading ">
      <div class="section-header">
        <h2 class="heading-text">{{ section.settings.headingtext }}</h2>
      </div>
    </div>
  </div>
  <div class="slider-container">
    <div class="swiper gallerySlider">
      <div class="swiper-wrapper">
        {%- for block in section.blocks -%}
          <a href="{{block.settings.collection_url}}">
            <div class="swiper-slide">
              <div class="slider-category-collection-box">
                <div class="slider-category-img-box">
                  {% if block.settings.category_img != blank %}
                   <a href="{{block.settings.collection_url}}" class="collection-url"> 
                        <div class="slider-box">
                                <img
                                    src="{{block.settings.category_img | img_url:'master'}}"
                                    class="collection-img"
                                    alt=""
                                >
                                {% comment %} <div class="design-box"></div> {% endcomment %}
                        </div>
                    </a>
                  {% endif %}
                </div>
              </div>
            </div>
          </a>
        {% endfor %}
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Gallery image slider",
  "settings": [
    {
      "type": "richtext",
      "id": "headingtext",
      "label": "Heading text"
    },
    {
      "type": "color",
      "id": "background",
      "label": " background color"
    }

  ],
  "blocks": [
    {
      "name": "block",
      "type": "text",
      "settings": [
        {
          "type": "image_picker",
          "id": "category_img",
          "label": "category collection img"
        },
        {
          "type": "url",
          "id": "collection_url",
          "label": "select collection"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Gallery image slider"
    }
  ]
}
{% endschema %}

<style>
    .slider-gallery {
      padding-top: 1px;
      padding-bottom: 50px;
      background-color: {{ section.settings.background }};
      position: relative;
      z-index: 1;
    }

    .slider-container {
      margin-top: 80px;
      position: relative;
    }
  
    /* .gallerySlider .swiper-slide:nth-of-type(odd) {
      margin-top: 0;  
    }
    .gallerySlider .swiper-slide:nth-of-type(even){ 
      margin-top:50px;
    } */
    .png-img-1 {
      position: absolute;
      right: 5%;
      z-index: -1;
    }
    .png-img-2 {
      position: absolute;
      bottom: 5%;
      left: 5%;
    }
    .collection-img {
      height: 400px;
      object-fit: cover;
      object-position: center;

    }
    .design-box {
      height: 10px;
      background-color: #D0C272;
      top: 0;
    }
    .collection-url {
      text-decoration: none !important;
    }
    .slider-collection-heading {
      font-size: 30px;
      color: #ffffff;
      font-weight: 600;
      line-height: 36px;
      font-family: 'Montserrat Alternates' !important;
      text-decoration: underline;
      transition: all 0.5s;
      text-decoration: none !important;
    }

    .slider-gallery .slider-gallery-heading-box {
      width: 100%;
      padding: 20px 0;
      margin-top: 5px;
      position: absolute;
      text-align: center;
      bottom: 1.5%;
      background: linear-gradient(180deg, rgba(255,255,255,0) 0%, rgba(0,0,0,1) 81%);
    }
    .slider-gallery .slider-box {
      position: relative;
    }
    .slider-gallery .swiper {
      width: 100%;
      height: 100%;
    }
    .slider-gallery .swiper-arrow-button {
      width: 100px;
      position: relative;
      margin: 7% auto auto;
    }
    .slider-gallery .swiper-slide {
      display: flex;
      justify-content: center;
      align-items: center;
      object-fit: cover;
      transition: transform 0.5s ease;
    }
    .slider-gallery .swiper-arrow-button .swiper-button-next {
      color: #282828 !important;
      border: 3px solid #282828;
      justify-content: center;
      width: 35px;
      height: 35px;
      border-radius: 50%;
      font-size: 16px;
    }
    .slider-gallery .swiper-arrow-button .swiper-button-prev {
      color: #282828;
      border: 3px solid #282828;
      justify-content: center;
      width: 35px;
      height: 35px;
      border-radius: 50%;
      font-size: 16px;
    }
    

    .slider-gallery .gallerySlider .swiper-wrapper{
        transition-timing-function: linear;
    }

  @media (max-width: 1440px) {
    .slider-collection-heading {
      font-size: 22px !important;
    }
    .collection-img {
      height: 290px;
    }
    .png-img-1 {
      width: 400px;
    }
    .png-img-2 {
      width: 400px;
    }
  }
  @media (max-width: 768px) {

    .slider-gallery-collection-box {
      padding: 0 15px;
    }

    .slider-container {
      margin-left: 0;
    }
    .slider-gallery {
      padding-top: 50px;
      padding-bottom: 100px;
    }
    .png-img-1 {
      width: 300px;
      right: 3%;
    }
    .png-img-2 {
      width: 300px;
      left: 3%;
    }
  }
  @media (max-width: 576px) {
    .slider-container {
      margin-top: 30px;
    }
    .collection-img {
      height: 380px;
    }
    .png-img-1 {
      display: none;
    }
    .png-img-2 {
      display: none;
    }
    .gallerySlider .swiper-slide:nth-of-type(even){ 
      margin-top:0 ;
    }
    .swiper-arrow-button {

      margin-top: 12% !important;
    }
    .slider-gallery {
        padding-bottom: 50px;
    }
  }
</style>
<script>
 $(document).ready(function() { 
  var nswiper = new Swiper('.gallerySlider', {
    slidesPerView: 4.2,
    loop: true,
    freeMode: true,
    spaceBetween: 0,
    speed: 5000,
    autoplay: {
      delay: 3000,
      disableOnInteraction: false,
    },
    loopAddBlankSlides: true,
    grabCursor: true,
    loopAdditionalSlides: 2,
    // cssMode: true,
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
    breakpoints: {
      320: {
        slidesPerView: 1,
        spaceBetween: 30,
      },
      577: {
        slidesPerView: 1,
        spaceBetween: 30,
      },
      768: {
        slidesPerView: 2.2,
        spaceBetween: 30,
      },
      800: {
        slidesPerView: 3.2,
        spaceBetween: 30,
      },
      900: {
        slidesPerView: 3.2,
        spaceBetween: 30,
      },
      1020: {
        slidesPerView: 3.2,
        spaceBetween: 30,
      },
      1100: {
        slidesPerView: 4.2,
        spaceBetween: 30,
      },
    },
  });
});
</script>
